#version 430

layout (location = 3) uniform sampler2D albedo;
layout (location = 4) uniform vec3 lightDir;
layout (location = 5) uniform vec4 lightColor;

in vec3 vNormal;
in vec2 vUV;
in vec4 vColor;

out vec4 fragColor;

void main() 
{ 
	float d = max(0, dot(vNormal, -lightDir));
	vec4 diffuse = d * vec4(1,1,1,1);
	vec4 base = texture(albedo, vUV);

	fragColor = diffuse * base * lightColor; 
}